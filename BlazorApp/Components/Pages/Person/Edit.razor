@page "/person/edit/{id:int}"

@inject PeopleDataset ds

<h3>Editace osoby - @person.FirstName @person.LastName</h3>

<EditForm Model="person" OnSubmit="save">
    <div class="form-group">
        <label>Jméno</label>
        <InputText @bind-Value="person.FirstName" class="form-control" />
    </div>
    <div class="form-group">
        <label>Příjmení</label>
        <InputText @bind-Value="person.LastName" class="form-control" />
    </div>
    <div class="form-group">
        <label>Email</label>
        <InputText @bind-Value="person.Email" class="form-control" />
    </div>
    <div>
        <button type="submit">Ulož</button>
    </div>
</EditForm>

@code {

    [Parameter]
    public int id { get; set; }

    Person person = new();

    protected override void OnInitialized()
    {
        person = ds.GetPeople().ElementAt(id);
    }

    void save()
    {
        Console.WriteLine($"ukládám {person}");
    }

}
